<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TheRoyalGameofUr: The Royal Game of Ur</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TheRoyalGameofUr
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The Royal Game of Ur </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/kirklange/royal-game-of-ur"></a> <a href="http://kirklange.com/royal-game-of-ur"></a> <a href="https://github.com/kirklange/royal-game-of-ur/graphs/contributors"></a> <a href="https://zlib.net/zlib_license.html"></a></p>
<p>The Royal Game of Ur with expectiminimax AI.</p>
<h2>Quick Start Guide</h2>
<p>Get the prerequisites, if you don't have them already.</p>
<div class="fragment"><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install -y gcc git make</div></div><!-- fragment --><p>Download, build, and run the repo code.</p>
<div class="fragment"><div class="line">git clone https://github.com/kirklange/royal-game-of-ur.git</div><div class="line">cd royal-game-of-ur</div><div class="line">make init</div><div class="line">make build</div><div class="line">make run</div></div><!-- fragment --><p><code>test_ai</code> is the default project. To change which project gets built and run, see the <a href="#make-it">Make It!</a> section.</p>
<h2>Game Rules Description</h2>
<p>This game has four tetrahedral dice. Two of the four corners of the tetrahedron are marked with a white dot. The amount of moves a player gets is equivalent to the amount of dots pointing up after a roll. Rolling a 0 means you lose that turn. The probability of rolling <code>n</code> moves is as follows:</p>
<table class="doxtable">
<tr>
<th>0 </th><th>1 </th><th>2 </th><th>3 </th><th>4  </th></tr>
<tr>
<td>1/16 </td><td>1/4 </td><td>3/8 </td><td>1/4 </td><td>1/16 </td></tr>
</table>
<p>After rolling the dice, you can choose to either add a piece on the board on the nth tile, or move a piece already on the board n tiles forward. You can't sub-divide the moves. Each tile can only house one game piece.</p>
<p>There are two players. Each starts in the notch on their own side of the board. Each piece must go up their row (starting on the four-tile segment), down the middle row, then back around to the notch in order to complete its tour around the board. In order to move off the board you must have the exact number of required moves in order to do so. For example, if a piece is on the very last tile, you must roll exactly a 1 in order to move that tile off the board. The first player to have all seven of their pieces go around the board wins.</p>
<div class="image">
<img src="https://raw.githubusercontent.com/kirklange/royal-game-of-ur/master/docs/rgu_video_snapshot.png" alt="The Game Board"/>
</div>
<p><em>Snapshot taken from <a href="https://youtu.be/WZskjLq040I">this video</a> at 3m49s.</em></p>
<p>On the shared center row, players can land on each other and reset the victim piece back to its starting position. Landing on a flower tile grants an extra turn and dice roll. Being on a flower tile protects you from enemy pieces (i.e. they can't land on you).</p>
<h2>AI Implementation</h2>
<p>This AI uses the same minimax algorithm I used in a class assignment for the Othello board game, except it has been adapted for stochastic games. To account for the probabilistic nature of the game, the values of the chance nodes are the weighted average of each possible dice roll.</p>
<h2>Proof of Competence</h2>
<p>Below is an example output of <code>test_ai</code>, formatted into a pretty spreadsheet. Galileo is the maximizer. Simplicio is the minimizer. Galileo is always at least as good as Simplicio.</p>
<div class="image">
<img src="https://raw.githubusercontent.com/kirklange/royal-game-of-ur/master/docs/test_ai_spreadsheet.png" alt="AI Benchmark"/>
</div>
<p>Interestingly, there is little benefit to looking ahead more than a couple moves. I suspect this is because we are dealing with a stochastic game; the further you look ahead, the less likely it is that the game will end up where you are trying to force it to go.</p>
<h2>Make It!</h2>
<p>The following are various unit tests for this project, including the main game itself.</p>
<ul>
<li><code>test_dice</code> The most basic test, it prints out a 10x10 table of dice rolls.</li>
<li><code>test_board</code> This verifies whether the board initializes correctly or not.</li>
<li><code>test_ai</code> This benchmarks the AI, comparing it against random agents and agents with less lookahead than itself.</li>
<li><code>main_rgu</code> The main game itself. The program will ask you an initial set of questions like whether you want each player to be a human or an AI. This program will print out the board and its utility value after each turn.</li>
</ul>
<p>To change which project gets built and run, modify the <code>MAIN_SUBDIR</code> variable in <code>Makefile</code>.</p>
<h2>Code Documentation</h2>
<p>As of now the doc strings in the header files are incomplete, though the function names themselves are fairly verbose. The longer source files are well documented.</p>
<p><b>Note</b>: Because I implemented this project in C89 "for fun", you won't see any <code>bool</code> types where you might expect them, among other oddities related to C89. A future improvement could be creating typedefs for bools and error codes.</p>
<h2>Copyright</h2>
<p>Copyright (c) 2018 Kirk Lange <a href="https://github.com/kirklange/royal-game-of-ur">https://github.com/kirklange/royal-game-of-ur</a></p>
<p>This software is provided 'as-is', without any express or implied warranty. In no event will the authors be held liable for any damages arising from the use of this software.</p>
<p>Permission is granted to anyone to use this software for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions:</p>
<ol type="1">
<li>The origin of this software must not be misrepresented; you must not claim that you wrote the original software. If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.</li>
<li>Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.</li>
<li>This notice may not be removed or altered from any source distribution. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 3 2018 03:38:10 for TheRoyalGameofUr by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
