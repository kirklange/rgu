<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Royal Game of Ur | The Royal Game of ur</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+doxygen.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">The Royal Game of ur</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-12 m-col-m-none">
            <li><a href="files.html">Files</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="2">
            <li class="m-show-m"><a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          The Royal Game of Ur
        </h1>
<p><a href="https://travis-ci.org/kirklange/royal-game-of-ur"></a> <a href="http://kirklange.com/royal-game-of-ur"></a> <a href="https://github.com/kirklange/royal-game-of-ur/graphs/contributors"></a> <a href="https://zlib.net/zlib_license.html"></a></p><p>The Royal Game of Ur with expectiminimax AI.</p><h3>Quick Start Guide</h3><p>Get the prerequisites, if you don&#x27;t have them already.</p><pre class="m-code"><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">gcc</span> <span class="n">git</span> <span class="n">make</span></pre><p>Download, build, and run the repo code.</p><pre class="m-code"><span class="n">git</span> <span class="n">clone</span> <span class="nl">https</span><span class="p">:</span><span class="c1">//github.com/kirklange/royal-game-of-ur.git</span>
<span class="n">cd</span> <span class="n">royal</span><span class="o">-</span><span class="n">game</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">ur</span>
<span class="n">make</span> <span class="n">init</span>
<span class="n">make</span> <span class="n">build</span>
<span class="n">make</span> <span class="n">run</span></pre><p><code>test_ai</code> is the default project. To change which project gets built and run, see the <a href="#make-it">Make It!</a> section.</p><h3>Game Rules Description</h3><p>This game has four tetrahedral dice. Two of the four corners of the tetrahedron are marked with a white dot. The amount of moves a player gets is equivalent to the amount of dots pointing up after a roll. Rolling a 0 means you lose that turn. The probability of rolling <code>n</code> moves is as follows:</p><table class="m-table"><thead><tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th></tr></thead><tbody><tr><td>1/16</td><td>1/4</td><td>3/8</td><td>1/4</td><td>1/16</td></tr></tbody></table><p>After rolling the dice, you can choose to either add a piece on the board on the nth tile, or move a piece already on the board n tiles forward. You can&#x27;t sub-divide the moves. Each tile can only house one game piece.</p><p>There are two players. Each starts in the notch on their own side of the board. Each piece must go up their row (starting on the four-tile segment), down the middle row, then back around to the notch in order to complete its tour around the board. In order to move off the board you must have the exact number of required moves in order to do so. For example, if a piece is on the very last tile, you must roll exactly a 1 in order to move that tile off the board. The first player to have all seven of their pieces go around the board wins.</p><img class="m-image" src="rgu_video_snapshot.png" alt="Image" /><p><em>Snapshot taken from <a href="https://youtu.be/WZskjLq040I">this video</a> at 3m49s.</em></p><p>On the shared center row, players can land on each other and reset the victim piece back to its starting position. Landing on a flower tile grants an extra turn and dice roll. Being on a flower tile protects you from enemy pieces (i.e. they can&#x27;t land on you).</p><h3>AI Implementation</h3><p>This AI uses the same minimax algorithm I used in a class assignment for the Othello board game, except it has been adapted for stochastic games. To account for the probabilistic nature of the game, the values of the chance nodes are the weighted average of each possible dice roll.</p><h3>Proof of Competence</h3><p>Below is an example output of <code>test_ai</code>, formatted into a pretty spreadsheet. Galileo is the maximizer. Simplicio is the minimizer. Galileo is always at least as good as Simplicio.</p><img class="m-image" src="test_ai_spreadsheet.png" alt="Image" /><p>Interestingly, there is little benefit to looking ahead more than a couple moves. I suspect this is because we are dealing with a stochastic game; the further you look ahead, the less likely it is that the game will end up where you are trying to force it to go.</p><h3>Make It!</h3><p>The following are various unit tests for this project, including the main game itself.</p><ul><li><code>test_dice</code> The most basic test, it prints out a 10x10 table of dice rolls.</li><li><code>test_board</code> This verifies whether the board initializes correctly or not.</li><li><code>test_ai</code> This benchmarks the AI, comparing it against random agents and agents with less lookahead than itself.</li><li><code>main_rgu</code> The main game itself. The program will ask you an initial set of questions like whether you want each player to be a human or an AI. This program will print out the board and its utility value after each turn.</li></ul><p>To change which project gets built and run, modify the <code>MAIN_SUBDIR</code> variable in <code>Makefile</code>.</p><h3>Code Documentation</h3><p>As of now the doc strings in the header files are incomplete, though the function names themselves are fairly verbose. The longer source files are well documented.</p><p><strong>Note</strong>: Because I implemented this project in C89 &quot;for fun&quot;, you won&#x27;t see any <code>bool</code> types where you might expect them, among other oddities related to C89. A future improvement could be creating typedefs for bools and error codes.</p><h3>Copyright</h3><p>Copyright (c) 2018 Kirk Lange <a href="https://github.com/kirklange/royal-game-of-ur">https:/<wbr />/<wbr />github.com/<wbr />kirklange/<wbr />royal-game-of-ur</a></p><p>This software is provided &#x27;as-is&#x27;, without any express or implied warranty. In no event will the authors be held liable for any damages arising from the use of this software.</p><p>Permission is granted to anyone to use this software for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions:</p><ol><li>The origin of this software must not be misrepresented; you must not claim that you wrote the original software. If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.</li><li>Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.</li><li>This notice may not be removed or altered from any source distribution.</li></ol>
      </div>
    </div>
  </div>
</article></main>
<div class="m-dox-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-dox-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-dox-search-content">
          <input type="search" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" />
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            Search for symbols, directories, files, pages or modules. You can omit any
            prefix from the symbol or file path; adding a <code>:</code> or <code>/</code>
            suffix lists all members of given symbol or directory. Navigate through the
            list using <span class="m-label m-dim">&darr;</span> and
            <span class="m-label m-dim">&uarr;</span>, press
            <span class="m-label m-dim">Enter</span> to go.
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>The Royal Game of ur. Created by <a href="http://doxygen.org/">Doxygen</a> 1.8.13 and <a href="http://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>